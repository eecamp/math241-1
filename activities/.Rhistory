# Do not modify this chunk.
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
# it's good practice to check that all the packages required are loaded and installed
libs <- c('tidyverse','knitr','viridis','mosaicData','babynames','mdsr','Lahman','nycflights13')
for(l in libs){
if(!require(l,character.only = TRUE, quietly = TRUE)){
message( sprintf('Did not have the required package << %s >> installed. Downloading now ... ',l))
install.packages(l)
}
library(l, character.only = TRUE, quietly = TRUE)
}
Teams %>%
filter(teamID == "CHN") %>%
select(yearID, HR, HRA) %>%
pivot_longer()
view (Teams)
?Teams
Teams %>%
filter(teamID == "CHN") %>%
select(yearID, HR, HRA) %>%
pivot_longer(c(HR, HRA), names_to("hit_or_allowed"), values_to = "HRs")
Teams %>%
filter(teamID == "CHN") %>%
select(yearID, HR, HRA) %>%
pivot_longer(c("HR", "HRA"), names_to"hit_or_allowed", values_to = "HRs")
Teams %>%
filter(teamID == "CHN") %>%
select(yearID, HR, HRA) %>%
pivot_longer(c("HR", "HRA"), names_to = "hit_or_allowed", values_to = "HRs")
Teams %>%
filter(teamID == "CHN") %>%
select(yearID, HR, HRA) %>%
pivot_longer(c("HR", "HRA"), names_to = "hit_or_allowed", values_to = "HRs") %>%
mutate(hit_or_allowed = case_when(
hit_or_allowed = "HR" ~ "Hit by Cubs",
hit_or_allowed = "HRA" ~ "Hit Allowed by Cubs"
))
Teams %>%
filter(teamID == "CHN") %>%
select(yearID, HR, HRA) %>%
pivot_longer(c("HR", "HRA"), names_to = "hit_or_allowed", values_to = "HRs")
Teams <- Teams %>%
filter(teamID == "CHN") %>%
select(yearID, HR, HRA) %>%
pivot_longer(c("HR", "HRA"), names_to = "hit_or_allowed", values_to = "HRs")
Teams <- Teams %>% mutate(hit_or_allowed = case_when(
hit_or_allowed = "HR" ~ "Hit by Cubs",
hit_or_allowed = "HRA" ~ "Hit Allowed by Cubs"
))
View(Teams)
Teams <- Teams %>% mutate(hit_or_allowed = case_when(
hit_or_allowed = "HR" ~ "Hit by Cubs",
hit_or_allowed = "HRA" ~ "Hit Allowed by Cubs"
))
Teams <- Teams %>% mutate(hit_or_allowed = case_when(
hit_or_allowed == "HR" ~ "Hit by Cubs",
hit_or_allowed =- "HRA" ~ "Hit Allowed by Cubs"
))
Teams <- Teams %>% mutate(hit_or_allowed = case_when(
hit_or_allowed == "HR" ~ "Hit by Cubs",
hit_or_allowed == "HRA" ~ "Hit Allowed by Cubs"
))
ggplot(Teams, aes(x = YearID, y = HRs, color = hit_or_allowed))+
geom_point()
ggplot(Teams, aes(x = yearID, y = HRs, color = hit_or_allowed))+
geom_point()
library(nycflights13)
planes2 <- select(planes, tailnum, year, manufacturer)
flights2 <- select(flights, tailnum)
nyc_flights <- left_join()
nyc_flights <- left_join(planes2, flights2, by = c("tailnum" = "tailnum"))
View(nyc_flights)
nyc_flights %>% sum(is.na(manufacturer))
sum(is.na(nyc_flights$manufacturer))
sum(is.na(nyc_flights$year))
nyc_flights %>% group_by(manufacturer) %>% summarize(sum = n())
nyc_flights %>% group_by(manufacturer) %>% summarize(sum = n()) %>% fct_reorder()
nyc_flights %>% group_by(manufacturer) %>% summarize(sum = n()) %>% arrange()
nyc_flights %>% group_by(manufacturer) %>% summarize(sum = n()) %>% arrange(sum)
nyc_flights %>% group_by(manufacturer) %>% summarize(sum = n()) %>% arrange(desc(sum))
nyc_flights %>% group_by(manufacturer) %>% summarize(sum = n()) %>% arrange(desc(sum)) %>% head(5)
view(nycflights13)
nycflights13
nycflights_full <- full_join(planes2, flights2, by = c("tailnum" = "tailnum"))
View(nycflights_full)
?tailnum
?nycflights13
?nycflights13:flights
?flights
nyc_flights %>% filter(year == 2013) %>% arrange(tailnum)
nyc_flightsfull <- left_join(planes, flights, by = c("tailnum" = "tailnum"))
View(nyc_flightsfull)
flights1 <- flights %>% rename(departureyear = year)
nyc_flightsfull <- left_join(planes, flights1, by = c("tailnum" = "tailnum"))
nyc_flightsfull %>% filter(departureyear = 2013) %>% arrange(year)
nyc_flightsfull %>% filter(departureyear == 2013) %>% arrange(year)
planes1 <- planes %>% rename(manufactureyear = year)
nyc_flightsfull <- left_join(planes1, flights1, by = c("tailnum" = "tailnum"))
nyc_flightsfull %>% filter(departureyear == 2013) %>% arrange(manufactureyear)
nyc_flightsfull %>% filter(departureyear == 2013) %>% arrange(manufactureyear) %>% head(1)
nyc_flightsfull %>% select(tailnum, manufactureyear, departureyear) %>% filter(departureyear == 2013) %>% arrange(manufactureyear) %>% head(1)
nyc_flightsfull %>% summarize(sum = n())
planes %>% summarize(sum = n())
library(palmerpenguins)
mod <- broom::tidy(lm(cesd ~ mcs + sex, data = HELPrct))
knitr::kable(
mod,
digits = c(0, 2, 2, 2, 4),
caption = "Regression model from HELP clinical trial.",
longtable = TRUE
)
modpenguin <- broom::tidy(lm(body_mass_g ~ flipper_length_mm + sex, data = palmerpenguins))
library(palmerpenguins)
modpenguin <- broom::tidy(lm(body_mass_g ~ flipper_length_mm + sex, data = penguins))
knitr::kable(
modpenguin,
digits = c(0, 2, 2, 2, 4),
caption = "Regression model from Palmer Penguins.",
longtable = TRUE
)
